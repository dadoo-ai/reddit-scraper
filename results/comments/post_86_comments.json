{
  "info": {
    "authorId": "t2_e1y9q",
    "author": "KarlosTheJackal",
    "authorProfile": "https://www.reddit.com/user/KarlosTheJackal",
    "subreddit": "r/salesforce",
    "postId": "t3_1mw8ygr",
    "postLabel": null,
    "publishingDate": "2025-08-21T12:01:29+00:00",
    "postTitle": "Help: Flow Failing with FIELD_INTEGRITY_EXCEPTION on Calendar Model.Start Field",
    "postMessage": "Hi, I'm trying to create a public calendar record from a Work Order using a Record-Triggered Flow that runs after the record is created and/or updated. The Flow is consistently failing with a FIELD_INTEGRITY_EXCEPTION error that references a Calendar Model field. I've been troubleshooting this for a while and have confirmed the following: The Flow successfully gets the public group's ID. The Flow is passing the correct data types. My user profile has all permissions. The SobjectType is set to WorkOrder . The error message seems to indicate a conflict where a separate process is trying to validate a field on the WorkOrder object, even though the Flow is creating a Calendar record. Any help would be greatly appreciated. Thanks! Debug Log: How the Interview Started\nThis flow was triggered as if the  workorder  record was  created .\nHow the Interview Started\nThis debug run was triggered as if the workorder record was created.\nKarl Armstrong (005Tu00000FRlIL) started the flow interview.\nAPI Version for Running the Flow: 64\nSome of this flow's variables were set when the interview started.\n$Record = WorkOrder (0WOTu000005NkIbOAK)\nFlow start time: 20 August 2025 at 16:36.\nStart Condition Requirements\nThe triggering record met the start conditions.\nThe triggering record met the condition requirements.\n<b>Entry Conditions</b>\nnull\nGet Records: Get Public Calendar ID\nOne or more  Group  records were retrieved.\nFind all Group records where:\nName Equals Aftersales Team\nStore the values of these fields in Get_Public_Calendar_ID: Id\nResult\nSuccessfully found records.\nSOQL queries: 1 out of 100\n,SOQL query rows: 1 out of 50000\nCreate Records: Create Work Order Calendar Record\nWe couldn't create any records.\nCreate one CalendarView record where:\nDisplayField = {!$Record.WorkOrderNumber} (00000021)\nEndField = {!$Record.EndDate} (04/08/2025, 12:00)\nName = Aftersales Work Order Calendar\nOwnerId = {!Get_Public_Calendar_ID.Id} (00GTu00000EUupVMAT)\nSobjectType = WorkOrder\nStartField = {!$Record.StartDate} (04/08/2025, 12:00)\nResult\nFailed to create record.\n$$:Fault:\nError Occurred: This error occurred when the flow tried to create records: FIELD_INTEGRITY_EXCEPTION: 04/08/2025, 12:00 isn't a valid field for WorkOrder. Check the field and your access to it and try again. (Related object.field: Calendar Model.Start Field). You can look up ExceptionCode values in the <a href='https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_concepts_core_data_objects.htm#'>SOAP API Developer Guide</a>.\nDML statements: 1 out of 150\n,DML rows: 1 out of 10000\nTransaction Rolled Back\nBecause an error occurred, any records that the flow was ready to create, update, or delete weren’t committed to the database.\nAn Error Occurred\nThe flow interview failed on 20 August 2025 at 16:36. It ran for 0.84 seconds.",
    "postLink": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/",
    "commentCount": 5,
    "upvoteCount": 0,
    "attachmentType": null,
    "attachmentLink": null
  },
  "comments": [
    {
      "authorId": null,
      "author": "Suspicious-Nerve-487",
      "authorProfile": "https://www.reddit.com/user/Suspicious-Nerve-487",
      "commentId": "t1_n9vp0r9",
      "link": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/n9vp0r9/",
      "publishingDate": 1755778238.0,
      "commentBody": "The API documentation states StartField expects a string, my assumption is it’s looking for the name of the field, not the value\n\n&gt; Type:  string\n\n&gt; Properties: Create, Filter, Group, Sort, Update\n\n&gt; Description: Represents the SobjectType field used as the start time for records displayed in a user’s calendar view within the user interface. Must be a date or dateTime field type.\n\nIt looks like you’re trying to set it to record.StartDate and setting the value. Try just putting the field API name",
      "upvotes": 2,
      "dislikes": null,
      "downvotes": null,
      "replies": [
        {
          "authorId": null,
          "author": "KarlosTheJackal",
          "authorProfile": "https://www.reddit.com/user/KarlosTheJackal",
          "commentId": "t1_n9w6uo5",
          "link": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/n9w6uo5/",
          "publishingDate": 1755784363.0,
          "commentBody": "Thank you! You are spot on and it was expecting a string not the value! \\*facepalm\\*\n\nHowever, I've run into a new issue. When I try to create the calendar record for a shared group, the Flow fails with an `INVALID_CROSS_REFERENCE_KEY` error. It seems the Flow can't use a Group ID as the `OwnerId` for the `CalendarView` record.\n\nI have a bad feeling this is telling me I can't use a flow to create a record in a shared group calendar (I am hoping my feeling is wrong, though!).\n\nThe debug log for this new error is below:\n\n    How the Interview Started\n    This flow was triggered as if the  workorder  record was  created .\n    How the Interview Started\n    This debug run was triggered as if the workorder record was created.\n    Karl Armstrong (005Tu00000FRlIL) started the flow interview.\n    API Version for Running the Flow: 64\n    Some of this flow's variables were set when the interview started.\n    $Record = WorkOrder (0WOTu000005NkIbOAK)\n    Flow start time: 21 August 2025 at 14:38.\n    \n    Start Condition Requirements\n    The triggering record met the start conditions.\n    The triggering record met the condition requirements.\n    &lt;b&gt;Entry Conditions&lt;/b&gt;\n    null\n    \n    Get Records: Get Public Calendar ID\n    One or more  Group  records were retrieved.\n    Find all Group records where:\n    Name Equals Aftersales Team\n    Store the values of these fields in Get_Public_Calendar_ID: Id\n    Result\n    Successfully found records.\n    SOQL queries: 1 out of 100\n    ,SOQL query rows: 1 out of 50000\n    \n    Create Records: Create Work Order Calendar Record\n    We couldn't create any records.\n    Create one CalendarView record where:\n    DisplayField = WorkOrderNumber\n    EndField = EndDate\n    Name = Aftersales Work Order Calendar\n    OwnerId = {!Get_Public_Calendar_ID.Id} (00GTu00000EUupVMAT)\n    SobjectType = WorkOrder\n    StartField = StartDate\n    Result\n    Failed to create record.\n    $$:Fault:\n    Error Occurred: This error occurred when the flow tried to create records: INVALID_CROSS_REFERENCE_KEY: invalid cross reference id. You can look up ExceptionCode values in the &lt;a href='https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_concepts_core_data_objects.htm#'&gt;SOAP API Developer Guide&lt;/a&gt;.\n    DML statements: 1 out of 150\n    ,DML rows: 1 out of 10000\n    \n    Transaction Rolled Back\n    Because an error occurred, any records that the flow was ready to create, update, or delete weren’t committed to the database.\n    \n    An Error Occurred\n    The flow interview failed on 21 August 2025 at 14:38. It ran for 0.60 seconds.",
          "upvotes": 0,
          "dislikes": null,
          "downvotes": null,
          "replies": [
            {
              "authorId": null,
              "author": "Suspicious-Nerve-487",
              "authorProfile": "https://www.reddit.com/user/Suspicious-Nerve-487",
              "commentId": "t1_n9w7bl3",
              "link": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/n9w7bl3/",
              "publishingDate": 1755784510.0,
              "commentBody": "Not sure. This is easy enough to test to confirm, I’ve never worked with these objects or this use case, was just reading the documentation",
              "upvotes": 1,
              "dislikes": null,
              "downvotes": null
            },
            {
              "authorId": null,
              "author": "Mildude1234",
              "authorProfile": "https://www.reddit.com/user/Mildude1234",
              "commentId": "t1_n9wqgo1",
              "link": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/n9wqgo1/",
              "publishingDate": 1755790165.0,
              "commentBody": "Brother. Just check the object reference of that object and find the field there. It will tell you which object record id's you can pass to it.\n\nEdit: hope this helps. Happy to see your great work! It might be frustrating now, but when the flow runs and users tell you how awesome it is, your efforts will be worth it.\n\nToo lazy to put this through chatgpt and make the compliment better.",
              "upvotes": 1,
              "dislikes": null,
              "downvotes": null
            }
          ]
        }
      ]
    },
    {
      "authorId": null,
      "author": "ck-pinkfish",
      "authorProfile": "https://www.reddit.com/user/ck-pinkfish",
      "commentId": "t1_n9x33jl",
      "link": "https://www.reddit.com/r/salesforce/comments/1mw8ygr/help_flow_failing_with_field_integrity_exception/n9x33jl/",
      "publishingDate": 1755793779.0,
      "commentBody": "The error you're seeing is classic Salesforce being weird about field mappings in flows. Having worked with hundreds of companies on automation, this exact FIELD\\_INTEGRITY\\_EXCEPTION comes up constantly when teams try to create calendar records from other objects.\n\nThe problem isn't with your flow logic, it's that you're trying to map date fields directly from WorkOrder to CalendarView without proper field validation. Salesforce is complaining because the StartField and EndField on CalendarView expect specific data formats that don't always match what WorkOrder provides, even when the data looks identical.\n\nYour debug log shows the dates are formatted correctly (04/08/2025, 12:00) but Salesforce is still rejecting them. This usually happens when there's a mismatch between datetime and date field types, or when the CalendarView object has field validation rules that aren't obvious.\n\nTry creating formula fields on your WorkOrder object that explicitly convert the StartDate and EndDate to the exact format CalendarView expects. Then reference those formula fields in your flow instead of the raw date fields. Most of our clients with similar calendar integration issues solve it this way.\n\nAlso check if there are any validation rules or field dependencies on the CalendarView object that might be causing conflicts. The \"Calendar Model.Start Field\" reference in the error suggests there might be some underlying schema weirdness happening.\n\nAnother approach that works better is using Apex instead of Flow for calendar record creation. Flows are great for simple automation but they get brittle when dealing with complex object relationships like CalendarView. Our customers who need reliable calendar integration usually end up with custom Apex that handles all the field mapping and error handling properly.\n\nThe SobjectType being set to WorkOrder is correct, so that's not your issue. It's definitely the date field mapping that's causing the problem.",
      "upvotes": 1,
      "dislikes": null,
      "downvotes": null
    }
  ]
}